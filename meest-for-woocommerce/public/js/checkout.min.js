jQuery(document).ready(function(){let MeestCheckout=function($){const shipToDifferentAddressCheckbox=$("#ship-to-different-address-checkbox"),defaultBillingFields=["#billing_company","#billing_country","#billing_state","#billing_city","#billing_address_1","#billing_address_2","#billing_postcode"],defaultShippingFields=["#billing_company","#shipping_country","#shipping_state","#shipping_city","#shipping_address_1","#shipping_address_2","#shipping_postcode"],billingFields=["#billing_meest_delivery_type","#billing_meest_country_id","#billing_meest_city_id","#billing_meest_street_id","#billing_meest_building","#billing_meest_flat","#billing_meest_branch_id"],shippingFields=["#shipping_meest_delivery_type","#shipping_meest_country_id","#shipping_meest_city_id","#shipping_meest_street_id","#shipping_meest_building","#shipping_meest_flat","#shipping_meest_branch_id"],updateShippingFields="#billing_meest_country_id, #billing_meest_city_id, #billing_meest_branch_id, #shipping_meest_country_id, #shipping_meest_city_id, #shipping_meest_branch_id";let initShippingMethod=function(){handleShippingMethodChange();$(document).on("change","input[name^=shipping_method]",function(){handleShippingMethodChange()});$(document).on("change","#ship-to-different-address-checkbox",function(){handleShippingMethodChange()});$(document.body).on("updated_checkout",function(){handleShippingMethodChange()});$(document).on("change",updateShippingFields,function(){$(document.body).trigger("update_checkout")})};let handleShippingMethodChange=function(){if(isMeestShipping()){enableBillingFields();if(shipToDifferentAddressCheckbox.is(":checked")){enableShippingFields()}setTimeout(function(){disableDefaultBillingFields();disableDefaultShippingFields()},0)}else{disableFields()}};let disableFields=function(){disableBillingFields();enableDefaultBillingFields();disableShippingFields();enableDefaultShippingFields()};let isMeestShipping=function(){let value=$("#shipping_method input:checked").val()||$("#shipping_method input").val();if(!value){return true}value=value.split(":");return value[0]===meest.id};let enableBillingFields=function(){for(let billingField of billingFields){$(billingField).removeAttr("disabled")}$("#billing_meest_form").show()};let enableShippingFields=function(){for(let shippingField of shippingFields){$(shippingField).removeAttr("disabled")}$("#shipping_meest_form").show()};let disableBillingFields=function(){for(let billingField of billingFields){$(billingField).attr("disabled","disabled")}$("#billing_meest_form").hide()};let disableShippingFields=function(){for(let shippingField of shippingFields){$(shippingField).attr("disabled","disabled")}$("#shipping_meest_form").hide()};let enableDefaultBillingFields=function(){for(let defaultBillingField of defaultBillingFields){$(defaultBillingField).removeAttr("disabled").closest(".form-row").show()}};let enableDefaultShippingFields=function(){for(let defaultShippingField of defaultShippingFields){$(defaultShippingField).removeAttr("disabled").closest(".form-row").show()}};let disableDefaultBillingFields=function(){for(let defaultBillingField of defaultBillingFields){$(defaultBillingField).attr("disabled","disabled").closest(".form-row").hide()}};let disableDefaultShippingFields=function(){for(let defaultShippingField of defaultShippingFields){$(defaultShippingField).attr("disabled","disabled").closest(".form-row").hide()}};let initShippingFields=function(){new MeestAddress({inputContainer:".form-row",separateContainer:true,deliveryType:{block:$('input[type="radio"][name="billing_delivery_type"]'),branch:$("#billing_meest_delivery_type_branch"),address:$("#billing_meest_delivery_type_address")},country:{code:$("#billing_meest_country"),id:$("#billing_meest_country_id"),text:$("#billing_meest_country_text")},region:{text:$("#billing_meest_region_text")},city:{id:$("#billing_meest_city_id"),text:$("#billing_meest_city_text")},street:{id:$("#billing_meest_street_id"),text:$("#billing_meest_street_text")},building:$("#billing_meest_building"),flat:$("#billing_meest_flat"),postcode:{container:".form-row",text:$("#billing_meest_postcode")},branch:{id:$("#billing_meest_branch_id"),text:$("#billing_meest_branch_text")}}).init();new MeestAddress({inputContainer:".form-row",separateContainer:true,deliveryType:{block:$('input[type="radio"][name="shipping_delivery_type"]'),branch:$("#shipping_meest_delivery_type_branch"),address:$("#shipping_meest_delivery_type_address")},country:{code:$("#shipping_meest_country"),id:$("#shipping_meest_country_id"),text:$("#shipping_meest_country_text")},region:{text:$("#shipping_meest_region_text")},city:{id:$("#shipping_meest_city_id"),text:$("#shipping_meest_city_text")},street:{id:$("#shipping_meest_street_id"),text:$("#shipping_meest_street_text")},building:$("#shipping_meest_building"),flat:$("#shipping_meest_flat"),postcode:{container:".form-row",text:$("#shipping_meest_postcode")},branch:{id:$("#shipping_meest_branch_id"),text:$("#shipping_meest_branch_text")}}).init()};return{init:function(){initShippingMethod();initShippingFields()}}}(jQuery);MeestCheckout.init()});