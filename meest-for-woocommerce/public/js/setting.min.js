jQuery(document).ready(function(){let MeestSetting=function($){let initAutocomplete=function(){new MeestAddress({inputContainer:"tr",separateContainer:false,deliveryType:{block:$('input[type="radio"][name="option[address][delivery_type]"]'),branch:$("#meest_address_branch_delivery"),address:$("#meest_address_address_delivery")},country:{id:$("#meest_address_country_id"),text:$("#meest_address_country_text"),code:$("#meest_address_country_code")},region:{text:$("#meest_address_region_text")},city:{id:$("#meest_address_city_id"),text:$("#meest_address_city_text")},street:{id:$("#meest_address_street_id"),text:$("#meest_address_street_text"),min_input:3},building:$("#meest_address_building"),flat:$("#meest_address_flat"),postcode:{container:"div",text:$("#meest_address_postcode")},branch:{id:$("#meest_address_branch_id"),text:$("#meest_address_branch_text"),min_input:3}}).init()};return{init:function(){initAutocomplete();$(".meest_access_type").on("change",function(){$(".meest_access_type").val(this.value);if(this.value==="username"){$("#meest_access_token").hide();$("#meest_access_username").show();$('[name="option[credential][token]"]').val("")}else{$("#meest_access_username").hide();$("#meest_access_token").show();$('[name="option[credential][username]"]').val("");$('[name="option[credential][password]"]').val("")}});$("#meest_dictionary_manual_update").on("click",function(){let self=this;let responseText=$("#meest_dictionary_manual_update_response");$(self).attr("disabled","disabled");$.ajax({type:"POST",url:meest.ajaxUrl,dataType:"json",data:{action:meest.actions.update_dictionary},success:function(response){responseText.html(response.message)},error:function(response){responseText.text()},complete:function(){$(self).removeAttr("disabled")}})});$("#meest_delivery_cost_add").on("click",function(e){e.preventDefault();let table=$("#meest_delivery_cost_table");let firstRow=table.find("tbody tr:first").clone(true,true);let lastRow=table.find("tbody tr:last");let index=parseInt(lastRow.attr("data-index"))+1;firstRow.attr("data-index",index);firstRow.find("input, select, textarea").each(function(){$(this).attr("name","option[shipping][delivery_cost]["+index+"][]").val("")});table.find("tbody").append(firstRow)});$("#meest_shipping_delivery_cost_type").on("change",function(){let fixedContainer=$("#meest_delivery_cost_fixed_container");let rangeContainer=$("#meest_delivery_cost_range_container");if(this.value==="fixed"){fixedContainer.show();rangeContainer.hide()}else if(this.value==="range"){rangeContainer.show();fixedContainer.hide()}else{rangeContainer.hide();fixedContainer.hide()}});$(".meest_delivery_cost_delete").on("click",function(e){e.preventDefault();$(this).closest("tr").remove()})}}}(jQuery);MeestSetting.init()});